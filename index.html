<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Trends</title>
    <link rel="stylesheet" href="news.css">
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 399.3 130.3">
                    <path fill="#000" d="M108.2 26.7c-2.8-1.8-5.5-3.5-8.3-5.3-2.8-1.8-5.6-3.6-8.3-5.3-.7-.5-1.4-.5-2.2 0-5.1 3-10.3 6-15.4 8.9-5.2 3-10.3 6-15.4 8.9l-.6.3c-.1 0-.1.1-.2.1-.1-.1-.2-.1-.3-.1-1-3.4-3.5-5.6-7.3-6.4-2.3-.5-4.6-.9-6.8-1.2-1.2-.2-2.3-.4-3.5-.6-1.7-.3-3.1-.7-4.5-1.3-.9-.4-1.4-1.6-1-2.8.2-.7.8-1.1 1.9-1.2h1.4c.6 0 1.2.1 1.8.2.6.1 1.2.2 1.8.2.5.1 1.2.1 1.6-.2.3-.2.4-.5.4-.8.1-.6-.4-1.1-.8-1.6l-.2-.2c-.3-.3-.6-.4-.9-.5-6.5-2.6-12.7-2.1-18.2 1.5-.9.6-1.6 1.3-2.3 2.2-2.1 3-2.9 6.4-2.2 9.7.7 3.5 3 6.9 6 8.8 2.6 1.6 5.5 2.2 8 2.6 1.2.2 2.4.3 3.6.4.6.1 1.2.1 1.8.2 1.5.3 1.5.9 1.5 1.2 0 3.9 0 7.5-.1 11.2 0 .2 0 .8-.1.9-.1.1-.5.1-1 .1-1.7 0-3.4 0-5 .2-3.5.3-6.5 1.7-8.7 3.8-4 4.2-5.5 9.4-4.6 16 .1.4.4.7.7 1 .1.1.2.2.3.4l.3.4.4-.4.3-.3c.3-.2.6-.4.7-.7.4-.6.8-1.2 1.1-1.8.5-.8.9-1.5 1.4-2.2 1.1-1.4 2.3-2.2 3.7-2.3 3.5-.4 6.5.4 9 2.3 1.3.9 1.9 2 1.9 3.3v13.4c0 2.8-1.3 4.9-4.1 6.4-1.2.6-2.4 1.1-3.6 1.6-.3.2-.7.4-1.3.7l-1 .6.9.4.6.3.6.3c.3.1.6.1.9.1.3 0 .5 0 .8.1 12.4 2.2 24 7 34.4 14.4.8.6 1.5 1.2 2.2 1.8.4.3.8.7 1.2 1l.3.3.3-.3c11-11.8 23-19.4 36.7-23.4l.3-.1V30.2c0-.4 0-.9.1-1.2.5-1.4-.6-2.1-1-2.3zM65.7 91.5c-1.1-.6-2.2-1.1-3.4-1.6-.4-.2-.7-.3-1.1-.5-.7-.4-1.5-.7-2.2-1-.5-.2-.6-.4-.6-1V39c0-.7.2-1.1.9-1.4 1.9-1.1 3.8-2.1 5.9-3.4.1-.1.3-.2.5-.3v57.6zm24.4 5.8c0 1.2-.3 1.7-1.2 2.2-.7.4-1.3.9-1.9 1.3-.6.4-1.2.9-1.9 1.3-.2.1-.5.2-.6.1-2.5-1.5-4.9-2.9-7.3-4.4-2.4-1.4-4.8-2.9-7.3-4.3-.7-.4-.8-.8-.8-1.4V62.4c0-9.7 0-19.7.2-29.5-.1-.8.1-1.1.9-1.6 1.6-.8 3.3-1.8 4.8-2.8.2-.1.3-.2.5-.2.1 0 .3.1.5.2 4.5 2.8 9.2 5.8 13.7 8.7.2.2.5.7.5 1v59.1zm173.1.5V54.4c0-.8.1-1.5.2-2.3.1-.5.1-1 .1-1.6v-.3l-.2-.1c-11.9-7.8-23.9-15.6-36-23.4l-13.9-9.1-.1.7c-.1.6-.1.9-.1 1.2v17.2c0 .7.3 1.3 1 1.7 1.7 1.1 3.4 2.1 5.1 3.2 1.7 1.1 3.4 2.2 5.1 3.2.7.4 1.3.9 2 1.3 1.1.7 2.2 1.4 3.4 2.2-.1.1-.3.2-.3.2h-.1l-.1.1c-4.1 2.8-8.3 5.6-12.4 8.3h-.1c-.5.3-1 .7-.7 1.7.3 1.4.5 2.4.5 3.4v31.7c0 1.8-.8 2.8-2.6 3.4-.2.1-.4.1-.6.2-.3.1-.6.2-.8.3l-.1.1c-.1.1-.5.6-.5 1 0 .5.5.9.7 1 .2.1.5.2.8.2.2 0 .4.1.6.2 9.2 3.3 16.6 7.8 22.5 13.8.7.7 1 1 1.5 1 .4 0 .8-.3 1.4-.8 6.5-5.2 14.3-9.3 22.9-12.2.2-.1.5-.1.7-.2.1 0 .2-.1.1-.1h.5l-.1-.8c-.2-1.1-.4-2.1-.4-3zm-17.1 1.3c0 .3-.1.7-.1 1.1v.3s-.1 0-.1-.1l-.1-.1c-3.7-2.3-7.5-4.8-11.3-7-.4-.2-.5-.4-.5-.8V50.6c1 .6 2.1 1.2 3.1 1.8 2.7 1.6 5.6 3.3 8.4 4.9.5.2.7.6.7 1.2v29.4c0 3.7 0 7.5-.1 11.2zm134.8 1.9c-1.2-2.2-1.5-2.3-3.4-1.3-.1 0-.1.1-.2.1h-.1l-.1.1c-1.1.6-2 .7-3 .2l-1.3-.7c-1.3-.7-2.6-1.3-4-1.9-1.7-.9-2.3-1.9-2.1-3.7V57.4c0-2.5 1.5-4.6 4.1-5.6.3-.1.6-.2.9-.4.3-.1.5-.2.8-.3l.5-.2-.2-.4c-1-2.4-1.3-2.5-3.5-2-4 1-7.5.2-10.6-2.3-.8-.7-1.6-1.6-2.3-2.5-.7-1-1.5-.8-2.2-.4-3.9 2.4-8 4.8-12.1 7.2l-3.3 1.8c-.8.4-1.7.9-2.5 1.4v-1.2c.1-.9-.3-1.6-1.2-2.2-3.7-1.9-6.8-3.5-9.7-5.2-.6-.4-1.2-.4-2 0-2.8 1.7-5.8 3.5-8.6 5.1-1.1.6-2.1 1.2-3.2 1.9-.1.1-.3.2-.4.3-.1.1-.2.2-.3.2l-.6.4.7.3c.2.1.3.2.4.2.2.1.3.2.5.3.9.4 1.7.9 2.5 1.3 1.1.6 2.2 1.2 3.3 1.7 1.3.6 1.8 1.3 1.7 2.7-.1 1.3 0 2.5 0 3.7v30.3c0 1.7-.8 3-2.5 4-.7.4-1.5.8-2.3 1.2l-.8.4c-.1.1-.2.1-.4.2-.1.1-.3.2-.6.4l-.8.5.8.3c6.6 2.8 12.3 6.7 17.7 12l.3.3.3-.3c2.7-2.5 5.8-4.4 8.8-6.2 1.9-1.1 3.8-2.3 5.6-3.6l.6-.4-.6-.4c-.4-.2-.7-.4-1-.5-.1-.1-.3-.1-.4-.2l-6.6-3.3c-.9-.5-1.4-1.3-1.4-2.4.1-2.5.1-5 .1-7.3-.1-10-.1-20.2-.1-30.1 0-.1.2-.5.4-.6 1.9-1.1 3.6-2.1 5.3-2.9.2-.1.5-.1.7-.1 1 .5 2 1 2.9 1.5 1 .5 2 1.1 2.9 1.5.8.5 1.2 1.1 1.2 2.2v34.1c0 2.6-1 4-3.4 5.1-.2.1-.3.1-.5.2-.1.1-.3.1-.4.2l-.3.1v.3c0 .1-.1.2-.1.4v.3l.3.1c5.8 2.2 11.2 5.9 17.4 11.8l.3.3 1-.8c.9-.8 1.8-1.6 2.8-2.1 3.1-1.8 6.1-3.6 9.1-5.3l2.8-1.6c.6-.3 1.1-.6 1.7-1 .2-.1.4-.3.6-.4l.4-.2-.3-.2zm-214.3.1h-.1l-.1.1c-.1 0-.2.1-.2.1-.8.5-1.6.5-2.5 0-1.2-.7-2.4-1.4-3.8-2-.8-.3-1.1-.8-1.1-1.8 0-3.2 0-6.4.1-9.6v-9.7c0-2.9 0-5.8.1-8.6v-8.7c0-.6.1-1.3.2-1.8.5-2.2 1.2-2.9 3.4-2.9.8 0 1.7 0 2.5-.2.6-.1 1.1-.8 1.2-1.2.3-.6-.4-1-1-1.4-.2-.1-.3-.1-.5-.1-.1 0-.2 0-.3-.1-.8-.3-1.6-.5-2.4-.7-2.7-.8-5.3-1.6-7.8-2.7-3-1.3-6-3-8.8-4.6-1.2-.7-2.4-1.4-3.7-2-.3-.2-.6-.3-.8-.5-1.1-.7-1.3-.5-2.5.6l-.3.3c-3.7 3.9-7.8 7.9-12.8 10.7-2.9 1.6-5.8 3.1-8.7 4.5-1.2.6-2.5 1.2-3.7 1.9-.1 0-.2.1-.2.1-.4.2-1 .5-.9 1.5.1 1.4.2 2.8.2 4.2-.1 5.8-.1 11.5-.1 17.3 0 5.7-.1 11.5-.1 17.3 0 .7-.1 1.5-.2 2.3-.1.6-.2 1.2-.2 1.7v.5h.5c2.6 0 4.8 1.4 7.1 2.9.6.4 1.3.8 1.9 1.2 1.2.7 2.5 1.6 3.8 2.6.8.6 1.5.6 2.3.1.3-.2.5-.4.8-.6.7-.5 1.5-1.1 2.3-1.5 1.8-1.1 3.6-2.1 5.4-3.2 1.8-1.1 3.6-2.1 5.4-3.2.9-.5 1.1-.4 1.2-.4 0 0 .1.3.1 1.3-.1 1.1.4 1.5 1 1.9 3.2 1.9 6.4 3.8 9.4 5.7.4.3.8.5 1.2.5.4 0 .8-.2 1.2-.5 3.1-2.5 6.7-4.7 10.9-6.7.8-.4 1.6-.8 2.4-1.3.5-.3.9-.6 1.4-.8l.4-.2-.2-.4c-1-2.3-1.4-2.6-3.4-1.9zM142 99c0 .6-.2.8-.6 1-1.5.7-2.7.7-4-.1-2.5-1.5-5-2.7-7.3-3.8-.5-.2-.6-.5-.6-1.1V75.9c0-6.4 0-12.5-.1-18.9 0-.7.1-1 .3-1.1h.3c.3 0 .6.1.9.3 3.3 2.1 6.7 3.7 10.6 4.9.6.2.6.4.6.9v37zm170.8-.5-.4-.4c-.3-.3-.4-.5-.6-.5-.3-.4-.6-.7-1-.7-.5-.1-.9.1-1.4.4-.9.6-1.9 1.2-2.8 1.8-.6.4-1.2.7-1.8 1.1-1 .6-2 .6-2.9.2-1-.5-2-1-3-1.6l-6-3.3c-2-1.1-4-2.3-6-3.4-.6-.3-.9-.8-.9-1.6v-14c0-.7.1-.9.7-1.2 3.6-2.2 7.3-4.4 10.9-6.5 3.7-2.2 7.3-4.4 11-6.6 1.5-.9 1.7-1.6.8-3.1-.5-.8-.9-1.5-1.4-2.3-.5-.7-.9-1.5-1.4-2.2-1.5-2.6-3-5.3-4.5-7.9-1-1.7-1.9-3.4-2.9-5.2-.4-.6-.8-1.2-1.2-1.9l-.3-.4-.4.3c-.3.2-.4.3-.6.4l-.3.2c-5.2 3.8-11.3 7.3-18.6 10.8-2.6 1.2-5.4 2.4-8.1 3.5-1 .4-1.1 1-1 1.8.3 1.1.4 2.4.4 3.9V80c0 3.6-.1 7-.2 10.7v.3c-.1 3.1-1.3 5.5-3.7 6.9-.3.1-.5.4-.7.6l-.5.5 2.9 1.3c7.6 3.4 15.5 6.8 22 12.5l.3.3.3-.3c2.3-2.4 5.1-3.8 8-5.4.6-.3 1.2-.6 1.8-1 2.9-1.5 5.7-3.2 8.5-4.8 1-.6 2.1-1.2 3.1-1.8.1-.1.3-.2.4-.3.2-.2.5-.4.8-.6l.7-.4zm-26.9-45.2c2.7 3.7 5.4 7.7 8.9 12.7-1.8 1.1-3.6 2.1-5.4 3.1-1.2.7-2.3 1.3-3.5 2V53.3zm-90.6 1h.4c.2 0 .3 0 .4.1.1.1.3.4.4.6 2.8 3.7 6.8 5.2 11.7 4.5 6.2-.9 10.1-5.2 11.4-12.3.1-.5 0-1 0-1.6v-.7c0-.3-.2-.7-.5-1l-.4-.5-.4.5c-.3.4-.5.6-.7.8-1.4 1.7-3.3 2.8-5.5 3-1.6.3-3-.2-4.2-1.5-1.7-1.8-2-1.9-4.2-.6-1.7 1-3.3 1.9-5 2.9-1.6 1-3.3 1.9-5 2.9-.5.3-.7.4-1 .1-2.2-1.4-4.5-2.8-6.8-4.2-1.4-.9-2.8-1.7-4.2-2.6-.6-.5-1.3-.5-2 0-2.1 1.2-4.1 2.4-6.2 3.7-2 1.2-4.1 2.4-6.1 3.6l-.1.1c-.2.2-.4.4-.6.5l-.6.4.7.3c.1.1.3.1.4.2.2.1.5.2.6.3 2.2 1.2 4.6 2.4 7 3.6 1.3.7 1.8 1.5 1.8 2.9-.1 1 0 2 0 2.9v16.4c0 5 .1 10 .1 15 0 1.8-.6 2.8-2.1 3.4l-1.2.6c-.4.2-.9.5-1.3.7-.2.1-.3.2-.5.4-.1.1-.2.2-.4.3l-.6.5.7.3c7.5 2.9 13.3 7.9 17.6 11.9l.3.3.3-.3c5-4.2 10.5-7.1 16.3-10.1l1.7-.9-.2-.4c-.2-.5-.5-.9-1-1.6-.1-.4-.3-.6-.6-.7-.3-.1-.7-.1-1.2.2-.5.3-1 .5-1.5.8-.3.1-.5.2-.8.4-.7.3-1.4.3-2.1-.1-.5-.3-1-.5-1.4-.8-1.3-.7-2.7-1.5-4.1-2.3-.5-.3-.8-.8-.8-1.5v-39c0-1.2.5-2 1.5-2.4z"></path>
                </svg>
            </div>
            <div class="nav-links">
                <a href="https://www.varden.no/nyheter/i/Jx0qMR/nyhetsdoegnet-siste-nytt-fra-hele-telemark">Nyhetsstudio</a>
                <a href="https://www.varden.no/nyheter/">Nyheter</a>
                <a href="https://www.varden.no/nyheter/i/KzQq8e/tips-oss">Tips oss</a>
                <a href="https://www.varden.no/sport/">Sport</a>
            </div>
        </div>
    </nav>
    <header>
        <h1>Eiendomsmarkedet i Norge</h1>
    </header>
    <div class="container">
        <label for="city">Velg en by:</label>
        <select id="city">
            <option value="Norge">Norge (alle)</option>
            <option value="Oslo">Oslo</option>
            <option value="Bergen">Bergen</option>
            <option value="Trondheim">Trondheim</option>
            <option value="Stavanger m/omegn">Stavanger</option>
            <option value="Kristiansand m/omegn">Kristiansand</option>
            <option value="Tromsø">Tromsø</option>
        </select>

        <table id="data-table">
            <thead>
                <tr>
                    <th>Måleenhet</th>
                    <th>Verdi</th>
                </tr>
            </thead>
            <tbody>
                <!-- Data will be inserted dynamically -->
            </tbody>
        </table>

        <canvas id="trend-chart" width="1200" height="500"></canvas>
    </div>

    <script>
        const dataset = {
            "Oslo": {
                "Endring siste måned": -0.7,
                "Endring sesongjustert siste måned": 0.3,
                "Endring hittil i år": "6.1 %",
                "Endring siste år": 5,
                "Endring siste 5 år": 26.6,
                "Endring siste 10 år": 81.6,
                "Gjennomsnitt kvm. pris": "95 066",
                "Gjennomsnittspris": "6 956 030"
            },
            "Bergen": {
                "Endring siste måned": -0.4,
                "Endring sesongjustert siste måned": 0.7,
                "Endring hittil i år": "11.2 %",
                "Endring siste år": 8.7,
                "Endring siste 5 år": 27.3,
                "Endring siste 10 år": 42.4,
                "Gjennomsnitt kvm. pris": "54 629",
                "Gjennomsnittspris": "4 588 084"
            },
            "Trondheim": {
                "Endring siste måned": -0.2,
                "Endring sesongjustert siste måned": 0.8,
                "Endring hittil i år": "5.2 %",
                "Endring siste år": 1.3,
                "Endring siste 5 år": 20,
                "Endring siste 10 år": 39.2,
                "Gjennomsnitt kvm. pris": "53 670",
                "Gjennomsnittspris": "4 531 763"
            },
            "Stavanger m/omegn": {
                "Endring siste måned": 1.2,
                "Endring sesongjustert siste måned": 1.6,
                "Endring hittil i år": "13.2 %",
                "Endring siste år": 8.8,
                "Endring siste 5 år": 33.3,
                "Endring siste 10 år": 21.1,
                "Gjennomsnitt kvm. pris": "47 323",
                "Gjennomsnittspris": "4 876 680"
            },
            "Kristiansand m/omegn": {
                "Endring siste måned": -0.3,
                "Endring sesongjustert siste måned": 0.8,
                "Endring hittil i år": "9.8 %",
                "Endring siste år": 6.5,
                "Endring siste 5 år": 36.4,
                "Endring siste 10 år": 49.3,
                "Gjennomsnitt kvm. pris": "40 802",
                "Gjennomsnittspris": "4 336 181"
            },
            "Tromsø": {
                "Endring siste måned": -0.3,
                "Endring sesongjustert siste måned": 0.7,
                "Endring hittil i år": "8.4 %",
                "Endring siste år": 3,
                "Endring siste 5 år": 15.2,
                "Endring siste 10 år": 39.4,
                "Gjennomsnitt kvm. pris": "56 118",
                "Gjennomsnittspris": "4 646 623"
            },
            "Norge": {
                "Endring siste måned": -0.6,
                "Endring sesongjustert siste måned": 0.4,
                "Endring hittil i år": "7.6 %",
                "Endring siste år": 4.1,
                "Endring siste 5 år": 24.8,
                "Endring siste 10 år": 56.6,
                "Gjennomsnitt kvm. pris": "53 776",
                "Gjennomsnittspris": "4 795 936"
            }
        };

        const citySelect = document.getElementById('city');
        const tableBody = document.querySelector('#data-table tbody');
        const chartCanvas = document.getElementById('trend-chart');
        const ctx = chartCanvas.getContext('2d');

        function drawGridlines() {
            ctx.strokeStyle = "#eaeaea";
            ctx.lineWidth = 1;
            for (let i = 20; i <= chartCanvas.height - 20; i += 60) {
                ctx.beginPath();
                ctx.moveTo(40, i);
                ctx.lineTo(chartCanvas.width - 40, i);
                ctx.stroke();
            }
        }

        function animateBars(values, labels, maxValue, barWidth, chartHeight, maxBarHeight) {
            let progress = 0;
            const animationSpeed = 10; // Lower is faster

            function drawFrame() {
                progress += 0.05;
                ctx.clearRect(0, 0, chartCanvas.width, chartCanvas.height);
                drawGridlines();

                // Draw axes
                ctx.strokeStyle = "#444";
                ctx.lineWidth = 2;

                // X-axis
                ctx.beginPath();
                ctx.moveTo(40, chartHeight);
                ctx.lineTo(chartCanvas.width - 40, chartHeight);
                ctx.stroke();

                // Y-axis
                ctx.beginPath();
                ctx.moveTo(40, 20);
                ctx.lineTo(40, chartHeight);
                ctx.stroke();

                values.forEach((value, index) => {
                    const animatedHeight = Math.min((progress * value / maxValue) * maxBarHeight, (value / maxValue) * maxBarHeight);
                    const barX = 50 + index * (barWidth + 20); // Bar start X
                    const barY = chartHeight - animatedHeight; // Bar start Y

                    // Bar
                    ctx.fillStyle = ["#3498db", "#2ecc71", "#e74c3c"][index];
                    ctx.shadowColor = "rgba(0,0,0,0.2)";
                    ctx.shadowBlur = 4;
                    ctx.shadowOffsetX = 2;
                    ctx.shadowOffsetY = 2;
                    ctx.fillRect(barX, barY, barWidth, animatedHeight);
                    ctx.shadowColor = "transparent";

                    // Label below bar
                    ctx.fillStyle = "#444";
                    ctx.font = "14px Arial";
                    ctx.textAlign = "center";
                    ctx.fillText(labels[index], barX + barWidth / 2, chartHeight + 15);

                    // Value on top of bar
                    ctx.fillText(value, barX + barWidth / 2, barY - 10);
                });

                if (progress < 1) {
                    requestAnimationFrame(drawFrame);
                }
            }

            drawFrame();
        }

        function updateTable(city) {
            tableBody.innerHTML = '';
            const data = dataset[city];
            for (const [key, value] of Object.entries(data)) {
                const row = document.createElement('tr');
                row.innerHTML = `<td>${key}</td><td>${value}</td>`;
                tableBody.appendChild(row);
            }
        }

        function updateChart(city) {
            const data = dataset[city];
            const labels = ["Siste 1 år", "Siste 5 år", "Siste 10 år"];
            const values = [
                data["Endring siste år"],
                data["Endring siste 5 år"],
                data["Endring siste 10 år"]
            ];

            const chartWidth = chartCanvas.width - 80; // Leave margin
            const chartHeight = chartCanvas.height - 50;
            const barWidth = chartWidth / labels.length - 20; // Adjust for spacing
            const maxBarHeight = chartHeight - 20;
            const maxValue = Math.max(...values);

            animateBars(values, labels, maxValue, barWidth, chartHeight, maxBarHeight);
        }

        citySelect.addEventListener('change', (e) => {
            const city = e.target.value;
            updateTable(city);
            updateChart(city);
        });

        // Initialize with Norway data
        updateTable('Norge');
        updateChart('Norge');
    </script>
</body>
</html>
